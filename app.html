<!DOCTYPE html>
<html lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta charset="utf-8">
  <link rel="icon" href="images/favicon.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>SVGcut</title>

  <link href="node_modules/bootstrap/dist/css/bootstrap.css" rel="stylesheet">
  <link href="node_modules/bootstrap-slider/dist/css/bootstrap-slider.css"
        rel="stylesheet">
  <link href="css/index.css" rel="stylesheet">
  <script type="importmap">
    {
      "imports": {
        "gl-matrix/": "./node_modules/gl-matrix/esm/",
        "2d-geometry": "./lib/2d-geometry/index.js"
      }
    }
  </script>
</head>
<body>

  <!-- Save Project Modal - model is MiscViewModel -->
  <div class="modal fade" id="SaveProjectModal" role="dialog"
       aria-labelledby="spaModalTitle" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="spaModalTitle">Save Project As</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"
                  aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <label for="spName">Name</label>
          <input id="spName" data-bind="value: projectName">
          <label for="spTemplate">Template only</label>
          <input id="spTemplate" type="checkbox"
                 data-bind="checked: templateOnly" />
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary"
                  data-bind="click: saveProjectInBrowser">
            In Browser
          </button>
          <button type="button" class="btn btn-primary"
                  data-bind="click: saveProjectInFile">
            Local file
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Load Project from the browser. Model is MiscViewModel -->
  <div class="modal fade" id="LoadProjectFromBrowserModal"
       role="dialog" aria-labelledby="lslModalTitle" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="lslModalTitle">Open Project</h4>
          <button type="button" class="btn-close" data-bs-dismiss="modal"
                  aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <p data-bind="text: getBrowserProjectsList()"></p>
          <p>Select Project:
            <select id="selectProject"
                    data-bind="options: browserProjects, value: projectName">
            </select>
          </p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary"
                  data-bind="click: gotoDeleteBrowserProject">
            Delete
          </button>
          <button type="button" class="btn btn-primary"
                  data-bind="click: loadProjectFromBrowser">
            Load
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Delete Project from Browser Modal, model is MiscViewModel -->
  <div class="modal fade" id="DeleteProjectFromBrowserModal"
       role="dialog" aria-labelledby="dsModalLabel" aria-hidden="true">
    <div class="modal-dialog alert-danger">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="dsModalLabel">Delete Project</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"
                  aria-label="Close"></button>
        </div>
        <div class="modal-body">
          Delete "<b><span data-bind="text: projectName"></span></b>"?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary"
                  data-bind="click: deleteProjectFromBrowser">
            Delete</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Save GCODE Modal, view model GcodeGenerationViewModel -->
  <div class="modal fade" id="SaveGcodeModal" role="dialog"
       aria-labelledby="sgcModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="sgcModalLabel">Save GCODE</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"
                  aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <label>Save as</label>
          <input data-bind="value: gcodeFilename">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary"
                  data-bind="click: saveGcodeInFile">
            Save
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- View GCODE Modal, view model GcodeGenerationViewModel -->
  <div class="modal fade" id="ViewGcodeModal" tabindex="-1" role="dialog"
       aria-hidden="true" arial-labelledby="gcodeModalTitle">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="gcodeModalTitle">GCODE</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"
                  aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div style="white-space: pre; font-family: monospace; overflow: scroll; max-height: 80vh;" data-bind="text: gcode"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Container -->
  <div class="container-fluid">

    <!-- Begin page content -->
    <div class="row">

      <!-- left card column -->
      <div id="LeftColumn" class="col-sm-3 left-column">

        <!-- Operations View -->
        <div class="card" id="OperationsView">
          <div class="card-header">
            <h3 class="card-title">
              <a data-bs-toggle="collapse" data-parent="#accordion"
                 href="#OperationsViewPane" class="nav-link">Operations</a>
            </h3>
          </div>
          <div id="OperationsViewPane" class="collapse show">
            <div class="card-body">
              <div style="display: inline-block">
                <button
                  id="createOperationButton" class="btn btn-primary"
                  data-bind="click: addOperation, enable: App.models.Selection.isSomethingSelected()">
                  Create Operation
                </button>
              </div>
            </div>
            <div style="display:table">
              <div data-bind="foreach: {data: operations, afterRender: addSubview}">
                <!-- template for operations table row. Instances are
                  automatically bound to OperationViewModel
                  by knockout (well, the code doesn't do it) -->
                <div style="display:table-row" class="entry-row">
                  <div style="display:table-cell" class="entry-detail">
                    <label id="opShowDetail"
                           data-bind="click: toggleDetail, text: showDetail() ? '&#x25bc;' : '&#x25b6;'">
                    </label>
                  </div>
                  <div style="display: table-cell" class="entry-enabled">
                    <input id="opEnabled" type="checkbox"
                           data-bind="checked: enabled" />
                  </div>
                  <div style="display: table-cell" class="entry-mid">
                    <select id="opOperation" data-bind="value: operation">
                      <option>Pocket</option>
                      <option>Inside</option>
                      <option>Outside</option>
                      <option>Engrave</option>
                      <!--CPP <option>V Pocket</option> /CPP-->
                    </select>
                  </div>
                  <div
                    style="display: table-cell" class="entry-mid">
                    <input id="opCutDepth"
                           class="number" type="number" step="any"
                           data-bind="visible: operation()!='V Pocket', value: cutDepth">
                  </div>
                  <div style="display: table-cell" class="entry-mid">
                    <label  class="control-label"
                            data-bind="visible: operation()!='V Pocket'">
                      <span data-bind="text: App.models.Misc.units"></span>
                    </label>
                  </div>
                  <div style="display: table-cell">
                    <button id="opGenerate" class="btn btn-secondary btn-sm"
                       data-bind="click: generateToolPath">
                      Generate
                    </button>
                  </div>
                </div>
                <!--CPP
                <div style="display:table-row" class="alert alert-danger"
                     data-bind="visible: enabled() && operation()=='V Pocket' && !App.models.Misc.loadedCamCpp() && App.models.Misc.camCppError().length == 0">
                  <div style="display: table-cell"></div>
                  <div style="display: table-cell"></div>
                  <div style="display: table-cell">Waiting for cam-cpp.js to load.</div>
                </div>
                <div style="display:table-row" class="alert alert-danger"
                     data-bind="visible: enabled() && operation()=='V Pocket' && App.models.Misc.camCppError().length != 0">
                  <div style="display: table-cell"></div>
                  <div style="display: table-cell"></div>
                  <div style="display: table-cell"
                       data-bind="html: App.models.Misc.camCppError()"></div>
                </div>
                <div style="display:table-row" class="alert alert-danger" data-bind="visible: enabled() && operation()=='V Pocket' && toolModel.angle() == 180">
                  <div style="display: table-cell"></div>
                  <div style="display: table-cell"></div>
                  <div style="display: table-cell">Set Tool Angle. This operation will not work until tool angle is set.</div>
                </div>
                /CPP-->
                <div style="display:table-row" data-bind="visible: showDetail">
                  <div style="display: table-cell; width: 20px"></div>
                  <div style="display: table-cell">
                    <table class="table">
                      <tr>
                        <td>
                          <label class="control-label">
                            Name
                          </label>
                        </td><td>
                          <input id="opName" data-bind="value: name">
                        </td>
                      </tr><tr data-bind="visible: operation()!='V Pocket'">
                        <td>
                          <label class="control-label">
                            Ramp Plunge
                          </label>
                        </td><td>
                          <input id="opRamp" type="checkbox"
                                 data-bind="checked: ramp" />
                        </td>
                      </tr><tr>
                        <td>
                          <label class="control-label">
                            Combine
                          </label>
                        </td><td>
                          <select id="opCombine" data-bind="value: combineOp">
                            <option>Union</option>
                            <option>Intersect</option>
                            <option>Diff</option>
                            <option>Xor</option>
                          </select>
                        </td>
                      </tr><tr data-bind="visible: operation()!='V Pocket'">
                        <td>
                          <label class="control-label">
                            Direction
                          </label>
                        </td><td>
                          <select id="opDirection"
                                  data-bind="value: direction">
                            <option>Conventional</option>
                            <option>Climb</option>
                          </select>
                        </td>
                      </tr><tr data-bind="visible: operation()!='Engrave'">
                        <td>
                          <label class="control-label">Margin</label>
                        </td><td>
                          <input id="opMargin" type="number" step="any"
                                 data-bind="value: margin">
                        </td>
                      </tr>
                      <tr data-bind="visible: operation()=='Inside' || operation()=='Outside'">
                        <td>
                          <label class="control-label">Width</label>
                        </td><td>
                          <input id="opWidth" type="number" step="any"
                                 data-bind="value: width">
                        </td>
                      </tr>
                      <tr>
                        <td colspan="2">
                          <button href="#" class="btn btn-secondary btn-sm"
                             data-bind="click: removeOperation">
                            Delete Operation
                          </button>
                        </td>
                      </tr>
                    </table>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Tabs View -->
        <div class="card" id="TabsView">
          <div class="card-header">
            <h3 class="card-title">
              <a data-bs-toggle="collapse" data-parent="#accordion"
                 href="#TabsViewPane" class="nav-link">Tabs</a>
            </h3>
          </div>
          <div id="TabsViewPane" class="collapse hide">
            <div class="card-body">
              <!--CPP
              <div class="alert alert-danger"
                   data-bind="visible: tabs().length != 0 && !App.models.Misc.loadedCamCpp() && App.models.Misc.camCppError().length == 0">
                <div>Waiting for cam-cpp.js to load.</div>
              </div>
              <div class="alert alert-danger"
                   data-bind="visible: tabs().length != 0 && App.models.Misc.camCppError().length != 0">
                <div data-bind="html: App.models.Misc.camCppError()"></div>
              </div>
              /CPP-->
              <table class="table">
                <tr>
                  <td><label for="tabsMaxCutDepth" class="control-label">
                      Max Cut Depth</label></td>
                  <td>
                    <input id="tabsMaxCutDepth" type="number" step="any"
                           data-bind="value: maxCutDepth">
                  </td>
                </tr>
              </table>
              <div style="display: inline-block">
                <button
                  id="createTabButton" class="btn btn-primary"
                  data-bind="click: addTab, enable: App.models.Selection.isSomethingSelected()">
                  Create Tabs
                </button>
              </div>
            </div>
            <div style="display:table">
              <div data-bind="foreach: { data: tabs, afterRender: addSubview }">
                <div style="display:table-row" class="entry-row">
                  <!-- template for operations table row. Instances are
                       automatically bound to OperationViewModel
                       by knockout (well, the code doesn't do it) -->
                  <div style="display: table-cell" class="entry-enabled">
                    <input id="tabEnabled" type="checkbox"
                           data-bind="checked: enabled" />
                  </div>
                  <div style="display: table-cell" class="entry-mid">
                    <input id="tabMargin" class="number" type="number"
                           step="any" data-bind="value: margin">
                  </div>
                  <div style="display: table-cell">
                    <button class="btn btn-secondary btn-sm"
                            data-bind="click: removeTab">
                      Delete
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Gcode Generation view -->
        <div class="card" id="GcodeGenerationView">
          <div class="card-header">
            <h3 class="card-title">
              <a data-bs-toggle="collapse" data-parent="#accordion"
                 href="#GcodeGenerationViewPane" class="nav-link">
                Gcode Generation</a>
            </h3>
          </div>
          <div id="GcodeGenerationViewPane" class="collapse show">
            <div class="card-body">
              <div class="form-horizontal">
                <table class="table">
                  <tr>
                    <td colspan="2">
                      <label for="gcodeUnits" class="control-label">
                        Units
                      </label>
                    </td><td>
                      <select id="gcodeUnits" data-bind="value: units">
                        <option>mm</option>
                        <option>inch</option>
                      </select>
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <label for="gcodeOrigin" class="control-label">
                        Origin
                      </label>
                    </td><td colspan = 2>
                      <select id="gcodeOrigin" data-bind="value: origin">
                        <option>SVG page</option>
                        <option>Bounding box</option>
                        <option>Centre</option>
                      </select>
                    </td>
                  </tr>
                  <tr>
                    <td><label for="gcodeExtraOffsetX" class="control-label">
                        Origin Offset</label></td>
                    <td>
                      <input type="number" step="any"
                             id="gcodeExtraOffsetX"
                             data-bind="value: extraOffsetX">
                    </td><td>
                      <input type="number" step="any"
                             id="gcodeExtraOffsetY"
                             data-bind="value: extraOffsetY">
                    </td>
                  </tr><tr>
                    <td><label>Area</label></td>
                    <td id="gcodeWidth" data-bind="text: bbWidth"></td>
                    <td id="gcodeHeight" data-bind="text: bbHeight"></td>
                  </tr>
                  <tr>
                    <td colspan="2">
                      <label for="gcodeReturn00" class="control-label">
                        Finish at work origin</label>
                    </td><td>
                      <input id="gcodeReturn00" type="checkbox"
                             data-bind="checked: returnTo00" />
                    </td>
                  </tr>
                </table>
                <button class="btn btn-secondary btn-sm"
                        data-bind="enable: haveGcode(), click: viewGcode">
                  View Gcode
                </button>
              </div>
            </div>
          </div>
        </div>
        <div id="alert_placeholder"></div>
      </div>

      <!-- Middle column -->
      <div id="Middle" class="col-sm-6">

        <!-- Tool bar, bound to MiscViewModel -->
        <nav id="NavBar" class="navbar navbar-expand-sm" role="navigation">
          <ul class="navbar-nav">
            <li class="nav-item dropdown navbar-collapse collapse">
              <a href="#"
                 class="nav-link dropdown-toggle"
                 id="projectDropdown"
                 data-bs-toggle="dropdown"
                 data-bs-auto-close="outside"
                 data-toggle="collapse"
                 aria-expanded="false">
                Project<strong class="caret"></strong>
              </a>
              <ul class="dropdown-menu"
                  aria-labelledby="projectDropdown">
                <li class="dropdown-item dropend">
                  <a href="#"
                     class="nav-link dropdown-toggle"
                     data-bs-toggle="dropdown"
                     id="openMenu"
                     aria-expanded="false">
                    Open
                  </a>
                  <ul class="dropdown-menu"
                      aria-labelledby="openMenu">
                    <li class="dropdown-item">
                      <a href="#" class="nav-link choose-file">
                        ... from File
                        <input type="file" id="chosenProjectFile">
                      </a>
                    </li><li class="dropdown-item">
                      <a href="#" class="nav-link open-modal"
                         data-bind="click: () => App.showModal('LoadProjectFromBrowserModal')">
                        ... from Browser
                      </a>
                    </li>
                  </ul>
                </li> <!-- open submenu -->
                <li class="dropdown-item">
                  <a href="#" class="nav-link open-modal"
                     data-bind="click: () => App.showModal('SaveProjectModal')">
                    Save
                  </a>
                </li><li class="dropdown-item">
                  <a href="#" class="nav-link choose-file">
                    Import SVG File
                    <input type="file" id="chosenImportSVGFile" multiple>
                  </a>
                </li><li class="dropdown-item">
                  <a href="#" class="nav-link choose-file">
                    Save GCODE
                    <input type="file" id="chosenSaveGcodeFile" multiple>
                  </a>
                </li>
              </ul> <!-- project menu -->
            </li> <!-- project toolbar item -->

            <li class="nav-item dropdown">
              <a href="#" class="nav-link dropdown-toggle"
                 data-bs-toggle="dropdown">
                Units (<span id="pickedUnits">mm</span>)
                <strong class="caret"></strong>
              </a>
              <ul class="dropdown-menu">
                <li class="dropdown-item">
                  <a href="#" class="nav-link pickedUnits"
                     data-bind="click: () => units('mm')">
                    mm
                  </a>
                </li><li class="dropdown-item">
                  <a href="#" class="nav-link"
                     data-bind="click: () => units('inch')">
                    inch
                  </a>
                </li>
              </ul>
            </li>
          </ul>
        </nav>

        <!-- svg views -->
        <div>
          <ul class="nav nav-tabs" role="tablist">
            <li class="nav-item">
              <a class="nav-link active" href="#svgPanel"
                 data-bs-toggle="tab">
                Toolpaths
              </a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#simulatePanel" data-bs-toggle="tab">
                Simulate
              </a>
            </li>
          </ul>
          <div class="tab-content">
            <!-- toolpaths tab -->
            <div class="tab-pane active" id="svgPanel">
              <svg id="MainSvg" viewBox="0 0 500 500"
                   preserveAspectRatio="xMinYMin meet" />
            </div>
            <!-- simulate tab -->
            <div class="tab-pane" id="simulatePanel">
              <canvas id="simulationCanvas" style="border: none;" width="10"
                      height="10"></canvas>
              <p>
                <b>Simulation time:</b>
                <input id="timeControl" class="form-range" type="range"
                       max="1000" value="1000" />
              </p>
              <!--CPP
              <p>
                <div data-bind="visible: App.models.Misc.debug">
                  <p>
                    <label class="control-label">debugArg0:&nbsp;</label>
                    <input type="number" step="any"
                           data-bind="value: App.models.Misc.debugArg0">
                  </p>
                  <p>
                    <label class="control-label">debugArg1:&nbsp;</label>
                    <input type="number" step="any"
                           data-bind="value: App.models.Misc.debugArg1">
                  </p>
                </div>
              </p>
              /CPP-->
              <ul>
                <li>Use mouse to rotate view</li>
                <li>Use slider control to set simulation time</li>
                <li>Simulation remains blank until you generate toolpaths</li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <!-- right -->
      <div class="col-sm-3 right-column">

        <!-- Tool View -->
        <div class="card" id="ToolView">
          <div class="card-header">
            <h3 class="card-title">
              <a data-bs-toggle="collapse" data-parent="#accordion"
                 href="#ToolViewPane" class="nav-link">
                Tool Settings</a>
            </h3>
          </div>
          <div id="ToolViewPane" class="collapse">
            <div class="card-body">
              <table class="table">
                <tr>
                  <td><label for="toolDiameter" class="control-label">
                      Diameter</label>
                  </td><td>
                    <input id="toolDiameter" type="number" step="any"
                             data-bind="value: diameter">
                    <span data-bind="text: App.models.Misc.units"></span>
                  </td>
                </tr>
                <tr>
                  <td>
                    <label for="toolAngle" class="control-label">
                      Angle</label>
                  </td><td>
                    <input id="toolAngle" type="number" step="any"
                           data-bind="value: angle"> &deg;
                  </td>
                </tr>
                <tr>
                  <td><label for="toolPassDepth" class="control-label">
                      Pass Depth</label>
                  </td><td>
                    <input id="toolPassDepth" type="number" step="any"
                           data-bind="value: passDepth">
                    <span data-bind="text: App.models.Misc.units"></span>
                  </td>
                </tr><tr>
                  <td><label for="toolStepOver" class="control-label">
                      Step Over</label>
                  </td><td>
                    <input id="toolStepOver" type="number" step="any"
                           min="0" max="1"
                           data-bind="value: stepover"> [0..1]
                  </td>
                </tr>
                <tr>
                  <td><label for="toolRapidRate" class="control-label">
                      Rapid</label>
                  </td><td>
                    <input id="toolRapidRate" type="number" step="any"
                           data-bind="value: rapidRate">
                    <span data-bind="text: App.models.Misc.units"></span>/min
                  </td>
                </tr><tr>
                  <td><label for="toolPlungeRate" class="control-label">
                      Plunge</label>
                  </td><td>
                    <input id="toolPlungeRate" type="number" step="any"
                           data-bind="value: plungeRate">
                    <span data-bind="text: App.models.Misc.units"></span>/min
                  </td>
                </tr>
                <tr>
                  <td><label for="toolCutRate" class="control-label">
                      Cut</label>
                  </td><td>
                    <input id="toolCutRate" type="number" step="any"
                             data-bind="value: cutRate">
                    <span data-bind="text: App.models.Misc.units"></span>/min
                  </td>
                </tr>
              </table>
            </div>
          </div>
        </div>

        <!-- Material View -->
        <div class="card" id="MaterialView">
          <div class="card-header">
            <h3 class="card-title">
              <a data-bs-toggle="collapse" data-parent="#accordion"
                 href="#MaterialViewPane" class="nav-link">
                Material
              </a>
            </h3>
          </div>
          <div id="MaterialViewPane" class="collapse">
            <div class="card-body">
              <div class="form-horizontal">
                <div class="mb-3">
                  <div class="col-sm-10">
                    <svg id="MaterialSvg" class="autoheight"
                         viewBox="0 0 74 35" internalWidth="74"
                         internalHeight="35" />
                  </div>
                </div>
              </div>
              <table class="table">
                <tr>
                  <td>
                    <label for="inputMatThickness" class="control-label">
                      Thickness</label>
                  </td><td>
                    <input type="number" step="any" id="inputMatThickness"
                           data-bind="value: thickness"
                           placeholder="Thickness">
                    <span data-bind="text: App.models.Misc.units"></span>
                  </td>
                </tr><tr>
                  <td>
                    <label for="selectMatZOrigin" class="control-label">
                      Z Origin</label>
                  </td><td>
                    <select id="selectMatZOrigin" data-bind="value: zOrigin">
                      <option>Top</option>
                      <option>Bottom</option>
                    </select>
                  </td>
                </tr><tr>
                  <td>
                    <label for="inputMatClearance" class="control-label">
                      Clearance</label>
                  </td><td>
                    <input type="number" step="any" id="inputMatClearance"
                           data-bind="value: clearance"
                           placeholder="Clearance">
                    <span data-bind="text: App.models.Misc.units"></span>
                  </td>
                </tr>
              </table>
            </div>
          </div>
        </div>

        <!-- Curve Conversion view  -->
        <div class="card" id="CurveConversionView">
          <div class="card-header">
            <h3 class="card-title">
              <a data-bs-toggle="collapse" data-parent="#accordion"
                 href="#CurveConversionViewPane" class="nav-link">
                Curve To Line Conversion
              </a>
            </h3>
          </div>
          <div id="CurveConversionViewPane" class="collapse">
            <div class="card-body">
              <div class="form-horizontal">
                <table class="table">
                  <tr>
                    <td>
                      <label for="inputMinNumSegments" class="control-label">
                        Minimum Segments</label>
                    </td><td colspan="2">
                      <input type="number" id="inputMinNumSegments"
                             data-bind="value: minSegs"
                             placeholder="Segments">
                    </td>
                  </tr>
                  <tr>
                    <td>
                      <label for="inputMinSegmentLength" class="control-label">
                        Minimum Segment Length
                      </label>
                    </td><td>
                      <input type="number" step="any"
                             id="inputMinSegmentLength"
                             data-bind="value: minSegLen"
                             placeholder="Length">
                    </td><td>
                      <span data-bind="text: App.models.Misc.units"></span>
                    </td>
                  </tr>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="tutorialSteps" style="display:none">
    <div name="Step1">Import one or more SVG files.</div>
    <div name="Step2">Click 1 or more paths</div>
    <div name="Step3">Click "Create Operation" after you have finished selecting paths.</div>
    <div name="Step4">Click "Generate" to generate Gcode for the operation.</div>
    <div name="Step5">You're done! Look at the "Simulate" tab. View your Gcode with "View Gcode". Save your gcode.</div>
  </div>
  <div id="popovers" style="display:none">
    <div name="selectProject">Select a project fromthe projects held in this browser.</div>
    <!-- tool -->
    <div name="toolUnits">Display units, does not affect Gcode generation.</div>
    <div name="toolDiameter">Diameter of tool. The simulator ignores this if Angle &lt; 180. <!--CPP V Pocket also ignores this.--></div>
    <div name="toolAngle">Angle of V cutter. 180 for normal (flat bottom)
      tools. <!--CPP V Pocket is the only operation which uses this.--></div>
    <div name="toolPassDepth">Maximum depth the tool should plunge each pass.
      Use a smaller pass depth for harder materials and better quality.</div>
    <div name="toolStepOver">
      What fraction of the tool diameter the tool should step over each
      time around a loop. Smaller values produce better cuts and reduce
      tool wear, but take longer to complete.</div>
    <div name="toolRapidRate">The speed the tool moves while not cutting</div>
    <div name="toolPlungeRate">
      The speed the tool plunges downwards into the material</div>
    <div name="toolCutRate">
      The speed the tool moves horizontally during cutting</div>
    <!-- Tabs -->
    <div name="createTabButton"><p class='bg-danger'>
        Select one or more paths in the "Toolpaths" tab before clicking
        here</p></div>
    <div name="tabEnabled">Enable/disable this tab</div>
    <div name="tabMargin">Margin<br>+ve: how much to expand tab<br>
      -ve: how much to shrink tab</div>
    <div name="tabsMaxCutDepth">Maximum depth operations may cut when
      they pass over tabs</div>
    <!-- Gcode Generation -->
    <div name="gcodeUnits">
      The units used by the machine the Gcode is targeted for. The Gcode
      will try to switch the machine into these units using G20/G21, so
      you should only need to change this if the machine doesn't support
      these codes (or you are more comfortable thinking in inches!)
    </div>
    <div name="gcodeOrigin">
      Set the machine origin. "SVG page" will set (0,0) to the bottom
      left of the SVG page. "Bounding box" will set it to the bottom left
      of the bounding box around the toolpaths. "Centre" will set it to
      the middle of the toolpaths. Choose the origin that works best
      with your CNC machine.
    </div>
    <div name="gcodeExtraOffsetX">
      Extra X offset added to the the machine origin</div>
    <div name="gcodeExtraOffsetY">
      Extra Y offset added to the machine origin</div>
    <div name="gcodeWidth">Width of the work.</div>
    <div name="gcodeHeight">Height of the work</div>
    <div name="gcodeReturn00">Move the tool to 0,0 after the last
      operation.</div>
    <!-- material -->
    <div name="inputMatThickness">How thick is the material</div>
    <div name="inputMatClearance">How high the tool moves over the material.
      Increase this when using clamps or screws to fasten the material.</div>
    <!-- operations -->
    <div name="createOperationButton"><p class='bg-danger'>
        Select one or more objects in the "Toolpaths" tab before clicking
        here</p></div>
    <div name="opEnabled">Enable/disable this operation. Only enabled operation are shown.</div>
    <div name="opGenerate">Generate toolpaths and Gcode for this operation</div>
    <div name="opName">Name used in gcode comments</div>
    <div name="opRamp">Ramp the cutter in gradually instead of plunging straight down</div>
    <div name="opCombine">How to combine multiple paths into this operation</div>
    <div name="opDirection">What direction the cutter should travel.
      See README for an explanation.</div>
    <div name="opCutDepth">How deep this operation should cut in total</div>
    <div name="opVMaxDepth">Maximum depth this operation should cut.
      <p class="bg-danger">not implemented yet; this is ignored.</p></div>
    <div name="opMargin"><p>Positive: how much material to leave uncut.</p>
      <p>Negative: how much extra material to cut</p></div>
    <div name="opWidth">How wide a path to cut. If this is less than the
      cutter width then it uses the cutter width.</div>
    <!-- selection -->
    <div name="inputMinNumSegments">Minimum number of line segments
      to convert a curve to. This conversion is done when you select
      an object (it becomes blue).</div>
    <div name="inputMinSegmentLength">Minimum length of each line segment
      when converting curves. This conversion is done when you select an
      object (it becomes blue).</div>
  }
  </div>
  <script src="node_modules/snapsvg/dist/snap.svg.js"></script>
  <script src="node_modules/knockout/build/output/knockout-latest.debug.js">
  </script>
  <script src="node_modules/bootstrap/dist/js/bootstrap.bundle.js"></script>
  <script src="node_modules/bootstrap-slider/dist/bootstrap-slider.js"></script>
  <script src="node_modules/clipper-lib/clipper.js"></script>
  <script src="node_modules/file-saver/dist/FileSaver.js"></script>
  <script type="module" src="js/app.js"></script>
</body>
</html>
